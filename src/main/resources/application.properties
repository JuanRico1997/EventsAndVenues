# ========================================
# CONFIGURACIÓN PRINCIPAL
# Catálogo de Eventos - Tiquetera Online
# ========================================

# Nombre de la aplicación
spring.application.name=catalogo-eventos

# Puerto del servidor
server.port=8080

# Perfil activo (dev o test)
spring.profiles.active=dev

# ========================================
# CONFIGURACIÓN DE SWAGGER/OPENAPI
# ========================================

# Habilitar Swagger UI
springdoc.swagger-ui.enabled=true

# Ruta de Swagger UI
springdoc.swagger-ui.path=/swagger-ui.html

# Ordenar operaciones por método HTTP
springdoc.swagger-ui.operations-sorter=method

# Ordenar tags alfabéticamente
springdoc.swagger-ui.tags-sorter=alpha

# Habilitar el botón "Try it out" por defecto
springdoc.swagger-ui.try-it-out-enabled=true

# Ruta de la documentación OpenAPI en JSON
springdoc.api-docs.path=/api-docs

# ========================================
# CONFIGURACIÓN DE JSON
# ========================================

# Formato de fechas en JSON
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=America/Bogota

# Incluir solo propiedades no nulas en JSON
spring.jackson.default-property-inclusion=non_null

# ========================================
# CONFIGURACIÓN DE LOGGING
# ========================================

# Nivel de log para la aplicación
logging.level.com.riwi.catalogo=INFO

# Nivel de log para Spring
logging.level.org.springframework.web=INFO

# Patrón de log en consola
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ========================================
# CONFIGURACIÓN DE BASE DE DATOS H2
# ========================================

# URL de conexión a H2 en memoria
# "catalogo_eventos_db" es el nombre de nuestra base de datos
# DB_CLOSE_DELAY=-1: Mantiene la BD en memoria mientras la app esté corriendo
spring.datasource.url=jdbc:h2:mem:catalogo_eventos_db
spring.datasource.driverClassName=org.h2.Driver

# Credenciales de acceso (por defecto para H2)
spring.datasource.username=sa
spring.datasource.password=

# ========================================
# CONFIGURACIÓN DE CONSOLA WEB H2
# ========================================

# Habilitar consola web de H2 (accesible en /h2-console)
spring.h2.console.enabled=true

# Ruta de la consola H2
spring.h2.console.path=/h2-console

# ========================================
# CONFIGURACIÓN DE JPA/HIBERNATE
# ========================================

# Dialecto SQL para H2
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Estrategia de generación del esquema
# create-drop: Crea las tablas al iniciar y las elimina al cerrar (ideal para desarrollo)
# update: Actualiza el esquema sin eliminar datos (para producción)
# validate: Solo valida que el esquema coincida con las entidades
# none: No hace nada automáticamente
spring.jpa.hibernate.ddl-auto=create-drop

# Mostrar las consultas SQL en consola (para debugging)
spring.jpa.show-sql=true

# Formatear las consultas SQL para que sean más legibles
spring.jpa.properties.hibernate.format_sql=true

# Mostrar los parámetros de las consultas SQL
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Mostrar estadísticas de Hibernate (opcional, para optimización)
spring.jpa.properties.hibernate.generate_statistics=false